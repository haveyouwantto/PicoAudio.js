let amp = [[1,0.8,0.45,0.096,0.056,0.0041,0.095,0.11,0.052,0.024,0.018,0.0025,0.017,0.023,0.0098,0.0075],[1,0.3,0.19,0.063,0.054,0.069,0.1,0.048,0.017,0.038,0.011,0.0021,0.0089,0.011,0.0018,0.011],[0.8,0.85,1,0.13,0.033,0.21,0.052,0.0053,0.11,0.057,0.076,0.009,0.035,0.038,0.036,0.005],[1,0.9,0.33,0.086,0.086,0.022,0.03,0.0079,0.019,0.0099,0.017,0.0033,0.0059,0.0027,0.0078,0.0036],[1,0.58,0.16,0.024,0.0018,0.0033,0.0032,0.0023,0.0023,0.0022,0.0018,0.002,0.0017,0.0014,0.0012,0.0013],[1,0.5,0.21,0.043,0.012,0.0053,0.0031,0.0028,0.0028,0.0021,0.12,0.0037,0.12,0.00093,0.0013,0.0023],[1,0.42,0.2,0.028,0.54,0.38,0.28,0.035,0.31,0.45,0.13,0.018,0.18,0.32,0.12,0.024],[1,0.41,0.56,0.13,0.21,0.25,0.3,0.35,0.23,0.25,0.096,0.13,0.17,0.1,0.044,0.08],[1,0.015,0.0083,0.0059,0.0045,0.0036,0.032,0.003,0.0026,0.0024,0.0022,0.002,0.0018,0.0021,0.0016,0.0014],[1,0.015,0.0081,0.0063,0.0053,0.0083,0.0053,0.0067,0.0077,0.0031,0.0025,0.0021,0.0016,0.037,0.0013,0.074],[1,0.015,0.0084,0.0059,0.0045,0.026,0.016,0.003,0.0025,0.0023,0.0021,0.0019,0.0018,0.014,0.0014,0.0013],[1,0.011,0.0052,0.26,0.0083,0.0061,0.005,0.0039,0.0036,0.0032,0.003,0.0029,0.0029,0.0034,0.22,0.0006],[1,0.012,0.011,0.29,0.0059,0.0048,0.004,0.0028,0.0028,0.0034,0.051,0.0035,0.0021,0.0016,0.0082,0.0015],[1,0.012,0.0067,0.0045,0.0036,0.0032,0.0024,0.0023,0.0019,0.0018,0.0017,0.0015,0.0013,0.0012,0.0013,0.0012],[1,0.07,0.093,0.074,0.054,0.47,0.0019,0.65,0.0017,0.0062,0.011,0.01,0.096,0.0025,0.21,0.0032],[1,0.58,0.58,0.51,0.59,0.077,0.13,0.17,0.11,0.33,0.24,0.32,0.0076,0.13,0.094,0.17],[1,0.09,0.0055,0.45,0.011,0.099,0.01,0.22,0.0093,0.015,0.006,0.0029,0.0052,0.0042,0.0044,0.04],[0.036,1,0.006,0.0037,0.0027,0.0021,0.0018,0.0015,0.0014,0.0014,0.0013,0.0011,0.00097,0.00095,0.00087,0.00083],[1,0.64,0.016,0.051,0.017,0.0088,0.0021,0.0031,0.0037,0.0049,0.0036,0.0038,0.0029,0.0032,0.0023,0.0025],[0.48,1,0.29,0.38,0.015,0.1,0.0074,0.087,0.027,0.0027,0.004,0.034,0.0032,0.003,0.0059,0.024],[0.46,1,0.14,0.42,0.12,0.095,0.051,0.055,0.029,0.031,0.023,0.019,0.0097,0.012,0.0089,0.017],[0.46,0.84,1,0.15,0.17,0.22,0.15,0.047,0.018,0.0035,0.023,0.035,0.028,0.016,0.0044,0.0019],[0.69,0.55,1,0.018,0.48,0.0084,0.2,0.0081,0.14,0.16,0.13,0.0074,0.074,0.15,0.09,0.0029],[1,0.68,0.68,0.73,0.23,0.24,0.19,0.26,0.18,0.13,0.12,0.12,0.029,0.033,0.048,0.02],[1,0.82,0.65,0.057,0.5,0.19,0.23,0.07,0.055,0.048,0.038,0.022,0.031,0.022,0.011,0.025],[1,0.34,0.081,0.096,0.17,0.16,0.29,0.22,0.053,0.046,0.06,0.028,0.078,0.043,0.04,0.073],[1,0.68,0.014,0.12,0.067,0.088,0.06,0.0078,0.0044,0.03,0.011,0.0031,0.009,0.013,0.0027,0.00082],[0.91,0.81,1,0.058,0.75,0.4,0.12,0.17,0.06,0.08,0.051,0.18,0.13,0.061,0.15,0.067],[1,0.65,0.17,0.044,0.013,0.0047,0.0042,0.0036,0.0031,0.0031,0.0027,0.0026,0.002,0.0021,0.0021,0.0019],[0.33,0.53,1,0.15,0.24,0.045,0.15,0.082,0.16,0.04,0.052,0.037,0.042,0.062,0.047,0.056],[0.51,0.57,1,0.26,0.16,0.12,0.081,0.063,0.092,0.045,0.024,0.039,0.0089,0.013,0.023,0.024],[0.0016,0.021,0.021,1,0.014,0.01,0.0069,0.015,0.0038,0.011,0.011,0.24,0.025,0.0082,0.0079,0.013],[1,0.64,0.27,0.028,0.085,0.03,0.025,0.012,0.022,0.0074,0.01,0.0038,0.0088,0.0039,0.0063,0.0011],[0.6,1,0.5,0.13,0.036,0.013,0.0089,0.0094,0.0059,0.0062,0.0059,0.0042,0.0028,0.0013,0.002,0.0029],[0.2,1,0.16,0.018,0.0054,0.00093,0.0032,0.0054,0.0046,0.0024,0.0058,0.004,0.0014,0.0014,0.00043,0.00053],[0.69,1,0.9,0.17,0.037,0.011,0.0054,0.0034,0.0028,0.0026,0.0024,0.0021,0.0021,0.0018,0.002,0.0016],[1,0.58,0.13,0.22,0.07,0.0084,0.032,0.035,0.017,0.025,0.017,0.01,0.02,0.061,0.064,0.0022],[1,0.95,0.53,0.14,0.04,0.019,0.0029,0.13,0.21,0.004,0.16,0.16,0.0025,0.038,0.0033,0.024],[1,0.58,0.4,0.33,0.24,0.17,0.12,0.087,0.063,0.045,0.032,0.023,0.018,0.015,0.011,0.0092],[0.33,0.64,1,0.35,0.16,0.093,0.071,0.031,0.03,0.014,0.017,0.0065,0.0075,0.0051,0.0062,0.0037],[1,0.17,0.52,0.35,0.41,0.3,0.26,0.15,0.11,0.019,0.012,0.021,0.024,0.025,0.013,0.0011],[0.49,1,0.49,0.12,0.054,0.11,0.063,0.041,0.064,0.031,0.028,0.023,0.0099,0.016,0.02,0.0094],[1,0.57,0.38,0.42,0.38,0.38,0.29,0.19,0.29,0.39,0.14,0.057,0.14,0.13,0.13,0.036],[0.71,1,0.9,0.63,0.75,0.37,0.4,0.4,0.38,0.084,0.15,0.11,0.15,0.045,0.046,0.048],[0.41,1,0.72,0.74,0.79,0.086,0.36,0.32,0.32,0.14,0.13,0.063,0.12,0.04,0.057,0.022],[1,0.62,0.37,0.024,0.087,0.05,0.019,0.031,0.0055,0.017,0.0038,0.0085,0.0019,0.0075,0.0012,0.0043],[1,0.15,0.17,0.13,0.055,0.0037,0.023,0.004,0.012,0.018,0.0087,0.0017,0.006,0.0012,0.0015,0.0016],[1,0.0082,0.096,0.0089,0.024,0.0038,0.025,0.002,0.012,0.0031,0.0029,0.0017,0.00073,0.0018,0.0018,0.0013],[1,0.45,0.65,0.078,0.23,0.36,0.23,0.053,0.15,0.11,0.044,0.013,0.046,0.057,0.032,0.0078],[1,0.51,0.21,0.074,0.19,0.24,0.079,0.077,0.092,0.05,0.029,0.031,0.0094,0.027,0.037,0.021],[1,0.34,0.19,0.082,0.055,0.038,0.026,0.017,0.01,0.0055,0.0027,0.0015,0.00084,0.00024,0.00016,0.00098],[1,0.32,0.13,0.082,0.045,0.042,0.024,0.021,0.014,0.012,0.009,0.004,0.0028,0.0007,0.0014,0.00053],[0.17,1,0.089,0.01,0.0069,0.0048,0.004,0.0034,0.003,0.0028,0.0025,0.0024,0.0024,0.0019,0.0017,0.0016],[1,0.33,0.19,0.042,0.046,0.015,0.0083,0.0095,0.0082,0.0054,0.0066,0.0034,0.0025,0.0029,0.0024,0.001],[1,0.15,0.013,0.0085,0.0061,0.0055,0.0049,0.0041,0.0035,0.0031,0.003,0.0028,0.0025,0.0025,0.0019,0.0019],[0.57,1,0.65,0.53,0.57,0.5,0.52,0.54,0.46,0.46,0.38,0.26,0.3,0.32,0.3,0.32],[0.88,1,0.82,0.57,0.54,0.35,0.4,0.37,0.32,0.28,0.24,0.14,0.13,0.13,0.13,0.12],[1,0.53,0.27,0.14,0.09,0.054,0.03,0.016,0.0096,0.0086,0.0095,0.0049,0.004,0.0024,0.0015,0.0027],[0.39,1,0.68,0.32,0.17,0.078,0.032,0.011,0.0021,0.0022,0.0031,0.0033,0.0029,0.0034,0.0027,0.0021],[1,0.27,0.31,0.63,0.068,0.51,0.18,0.3,0.17,0.068,0.28,0.18,0.15,0.086,0.037,0.039],[1,0.46,0.1,0.017,0.0099,0.0053,0.0037,0.0033,0.0031,0.0023,0.0012,0.00031,0.00073,0.00094,0.00052,0.00039],[1,0.86,0.59,0.32,0.094,0.15,0.19,0.26,0.24,0.2,0.14,0.059,0.054,0.06,0.071,0.048],[0.47,1,0.75,0.42,0.3,0.2,0.12,0.13,0.19,0.23,0.26,0.31,0.34,0.35,0.34,0.33],[1,0.53,0.23,0.079,0.048,0.031,0.024,0.022,0.019,0.012,0.0041,0.0046,0.0049,0.003,0.0013,0.002],[1,0.65,0.28,0.23,0.18,0.14,0.086,0.13,0.075,0.062,0.035,0.046,0.024,0.026,0.021,0.023],[1,0.89,0.85,0.78,0.8,0.72,0.66,0.65,0.62,0.5,0.37,0.27,0.27,0.22,0.15,0.089],[1,0.36,0.12,0.25,0.23,0.2,0.13,0.098,0.065,0.093,0.082,0.075,0.064,0.054,0.036,0.02],[1,0.61,0.36,0.28,0.2,0.16,0.27,0.26,0.16,0.12,0.12,0.056,0.066,0.088,0.081,0.088],[0.26,0.48,1,0.98,0.88,0.45,0.25,0.19,0.056,0.15,0.019,0.041,0.0084,0.018,0.038,0.019],[0.59,1,0.49,0.088,0.11,0.04,0.087,0.046,0.0049,0.039,0.0055,0.021,0.026,0.0046,0.0089,0.0046],[0.15,0.62,1,0.083,0.62,0.6,0.39,0.21,0.098,0.041,0.015,0.0077,0.0051,0.003,0.0029,0.0019],[1,0.016,0.19,0.0055,0.31,0.0064,0.2,0.003,0.13,0.0058,0.08,0.012,0.027,0.0098,0.027,0.0066],[1,0.079,0.0075,0.0012,0.0011,0.00056,0.00064,0.0005,0.00037,0.00041,0.00024,0.00012,0.00016,0.00012,0.00013,7.2e-05],[1,0.34,0.063,0.0044,0.0016,0.0016,0.0012,0.0012,0.00084,0.00078,0.00067,0.00059,0.00037,0.00059,0.00038,0.00049],[1,0.01,0.14,0.0021,0.14,0.0014,0.032,0.00046,0.033,0.00045,0.012,0.00057,0.012,0.00042,0.0065,0.00028],[1,0.01,0.39,0.016,0.37,0.0076,0.17,0.0041,0.08,0.0024,0.057,0.0026,0.026,0.0022,0.026,0.0023],[1,0.018,0.14,0.0071,0.082,0.0064,0.039,0.0041,0.0026,0.0045,0.01,0.00091,0.0039,0.0034,0.0027,0.004],[0.95,1,0.42,0.17,0.14,0.02,0.064,0.011,0.099,0.0026,0.055,0.0099,0.028,0.0066,0.023,0.0075],[1,0.013,0.0063,0.0029,0.002,0.0012,0.00085,0.00059,0.00079,0.00093,0.00046,0.00043,0.00022,0.00051,0.00053,0.00098],[1,0.0077,0.082,0.0035,0.0027,0.002,0.0014,0.0013,0.0011,0.00096,0.00095,0.00075,0.00088,0.0007,0.00066,0.00066],[1,0.015,0.23,0.0042,0.073,0.01,0.076,0.006,0.066,0.0051,0.044,0.0067,0.032,0.0051,0.037,0.0076],[1,0.22,0.28,0.14,0.066,0.062,0.087,0.071,0.037,0.045,0.052,0.027,0.029,0.038,0.031,0.025],[1,0.063,0.021,0.0066,0.0062,0.0029,0.0053,0.0017,0.0017,0.0016,0.0022,0.0012,0.0016,0.0009,0.00078,0.00094],[1,0.38,0.16,0.034,0.097,0.023,0.014,0.011,0.018,0.0052,0.0077,0.0062,0.0038,0.0026,0.0029,0.0052],[0.19,0.09,0.44,0.49,1,0.64,0.13,0.51,0.22,0.06,0.2,0.19,0.12,0.1,0.11,0.066],[1,0.47,0.45,0.044,0.14,0.0042,0.077,0.0033,0.13,0.0031,0.067,0.00032,0.018,0.0015,0.043,0.0022],[1,0.4,0.22,0.047,0.047,0.045,0.033,0.022,0.016,0.013,0.0082,0.0022,0.0043,0.0033,0.0005,0.0018],[0.76,0.55,1,0.14,0.28,0.18,0.03,0.12,0.13,0.079,0.078,0.087,0.03,0.072,0.11,0.016],[1,0.011,0.006,0.0044,0.0033,0.0029,0.0027,0.0033,0.12,0.0027,0.15,0.0048,0.0028,0.0021,0.0018,0.0015],[1,0.022,0.013,0.0097,0.01,0.0071,0.0053,0.0051,0.004,0.004,0.0045,0.0034,0.0028,0.0033,0.0025,0.0013],[1,0.72,0.54,0.27,0.18,0.11,0.087,0.064,0.042,0.026,0.021,0.014,0.011,0.0087,0.0081,0.0067],[1,0.66,0.19,0.025,0.093,0.086,0.02,0.035,0.029,0.0093,0.013,0.0045,0.0057,0.0073,0.0032,0.0046],[1,0.016,0.0067,0.0054,0.11,0.0039,0.09,0.0037,0.0029,0.003,0.015,0.0016,0.0085,0.0014,0.00098,0.00089],[1,0.11,0.16,0.023,0.12,0.06,0.11,0.0015,0.097,0.049,0.0098,0.00081,0.008,0.013,0.012,0.0048],[1,0.22,0.47,0.26,0.14,0.21,0.057,0.083,0.027,0.05,0.027,0.0034,0.033,0.018,0.023,0.027],[1,0.48,0.069,0.058,0.017,0.019,0.011,0.0034,0.004,0.0055,0.006,0.0018,0.0086,0.01,0.0087,0.01],[1,0.42,0.096,0.18,0.012,0.015,0.0043,0.0049,0.0013,0.0029,0.0015,0.0021,0.0011,0.0018,0.00058,0.0012],[1,0.23,0.18,0.073,0.11,0.052,0.027,0.021,0.035,0.021,0.061,0.015,0.05,0.036,0.061,0.012],[0.81,0.018,1,0.011,0.11,0.0043,0.35,0.0023,0.027,0.001,0.11,0.0032,0.0055,0.0019,0.032,0.0013],[0.4,0.88,0.42,0.27,1,0.062,0.26,0.065,0.69,0.34,0.19,0.039,0.045,0.32,0.11,0.052],[1,0.41,0.26,0.033,0.13,0.0062,0.013,0.0019,0.016,0.0018,0.069,0.0017,0.036,0.0028,0.058,0.0019],[1,0.11,0.13,0.035,0.051,0.039,0.039,0.029,0.037,0.054,0.0041,0.016,0.0087,0.0087,0.0071,0.022],[0.9,1,0.62,0.1,0.039,0.013,0.0031,0.0007,0.00033,0.00049,0.00031,0.00028,7.5e-05,5e-05,0.00041,8.4e-05],[0.78,1,0.57,0.61,0.41,0.55,0.37,0.44,0.32,0.36,0.27,0.14,0.17,0.16,0.16,0.15],[1,0.39,0.69,0.17,0.51,0.39,0.26,0.17,0.28,0.17,0.26,0.1,0.1,0.072,0.026,0.13],[0.81,1,0.6,0.21,0.37,0.25,0.16,0.28,0.19,0.037,0.11,0.051,0.042,0.079,0.03,0.033],[0.066,0.3,0.85,1,0.88,0.2,0.39,0.074,0.53,0.15,0.11,0.23,0.14,0.17,0.032,0.23],[0.22,0.64,1,0.5,0.2,0.42,0.23,0.19,0.37,0.29,0.19,0.12,0.031,0.049,0.14,0.18],[1,0.013,0.0078,0.0053,0.0044,0.0033,0.025,0.0028,0.027,0.002,0.0064,0.0017,0.0038,0.0015,0.00088,0.0013],[0.52,0.79,0.8,1,0.75,0.48,0.17,0.26,0.33,0.32,0.32,0.41,0.33,0.31,0.22,0.22],[1,0.41,0.17,0.12,0.049,0.14,0.11,0.013,0.02,0.036,0.025,0.032,0.041,0.02,0.01,0.013],[0.56,0.65,1,0.43,0.26,0.66,0.46,0.39,0.3,0.18,0.074,0.1,0.1,0.13,0.1,0.14],[0.17,0.21,0.12,0.085,0.2,0.47,1,0.25,0.14,0.096,0.066,0.056,0.049,0.042,0.039,0.18],[0.74,0.83,0.0056,0.0079,0.47,0.0052,0.0037,0.15,1,0.0071,0.29,0.21,0.0051,0.022,0.78,0.0029],[0.46,1,0.013,0.18,0.092,0.0034,0.13,0.21,0.0064,0.19,0.0014,0.0023,0.0073,0.15,0.00071,0.11],[0.15,0.0017,0.22,0.0012,1,0.0027,0.12,0.00029,0.25,0.0008,0.019,0.0018,0.17,0.0023,0.033,0.0011],[1,0.32,0.24,0.17,0.12,0.13,0.085,0.074,0.071,0.065,0.057,0.056,0.051,0.045,0.045,0.043],[1,0.011,0.0051,0.004,0.0016,0.0033,0.0027,0.0023,0.0026,0.0014,0.0014,0.002,0.0019,0.0011,0.00089,0.0013],[1,0.33,0.19,0.14,0.13,0.1,0.078,0.06,0.052,0.056,0.058,0.052,0.05,0.044,0.035,0.03],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.29,0.1,0.37,0.029,0.091,0.15,0.21,0.51,0.35,0.14,0.2,1,0.032,0.16,0.16,0.29],[1,0.025,0.12,0.012,0.019,0.0025,0.0061,0.0087,0.0062,0.0012,0.0034,0.0031,0.0048,0.0049,0.0055,0.0019],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.0023,0.002,0.0036,0.0011,0.0017,0.0018,0.0019,0.0022,0.0046,0.0029,0.0039,0.0046,0.0063,0.017,0.016,1],[0.052,0.14,1,0.014,0.034,0.012,0.066,0.091,0.036,0.031,0.046,0.0073,0.021,0.039,0.022,0.024],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.57,0.96,0.68,0.64,1,0.46,0.7,0.22,0.47,0.51,0.82,0.85,0.49,0.56,0.27,0.24],[1,0.42,0.65,0.73,0.39,0.17,0.15,0.072,0.49,0.77,0.79,0.23,0.26,0.15,0.37,0.38]];

const envelope = [[0,1.16,0.157,0.252],[0,1.58,0.109,0.276],[0,1.56,0.117,0.136],[0.0232,1.49,0.111,0.276],[0,0.766,0.0805,0.0666],[0,1.35,0.0868,0.0434],[0,1.65,0.134,0.136],[0,1.6,0.129,0.0434],[0,1.09,0.0605,0.252],[0,0.813,0.0542,0.159],[0,0.766,0.0224,0.5],[0,1.7,0.217,0.252],[0,0.441,0.0544,0.0201],[0,0.58,0.0511,0.0201],[0,0.882,0.0786,0.5],[0,1.56,0.0909,0.415],[0,0.975,0.721,0.0666],[0,0.0697,0.94,0.0898],[0,0.139,0.602,0.0434],[0.0232,0.0929,0.802,0.299],[0.0464,0.627,0.747,0.136],[0.0464,0.65,0.492,0.0898],[0.0464,0.488,0.715,0.0201],[0.0232,0.0929,0.92,0.159],[0,1.6,0.123,0.0898],[0,1.18,0.052,0.0434],[0,1.07,0.00299,0.0201],[0,1.07,0.054,0.0201],[0,0.65,0.051,0.0201],[0,0.163,0.789,0.136],[0,0.139,0.758,0.136],[0,2,0.233,0.0201],[0,1.7,0.15,0.252],[0,1.42,0.0763,0.0201],[0,1.6,0.124,0.0434],[0,1.56,0.132,0.0898],[0,1.32,0.0756,0.136],[0,0.766,0.128,0.0201],[0.0232,0.418,0.0556,0.0201],[0.0464,1.72,0.0445,0.0434],[0.0464,2,0.315,0.276],[0.0464,0.255,0.77,0.159],[0.116,0.488,0.859,0.113],[0.0464,0.163,0.855,0.252],[0.0929,0.673,0.651,0.5],[0,0.372,0.0391,0.0201],[0,0.789,0.0757,0.5],[0,1.58,0.12,0.5],[0.0464,0.627,0.682,0.5],[0.163,0.488,0.944,0.5],[0.0697,0.0929,0.962,0.5],[0.0929,0.743,0.979,0.5],[0.186,2,0.892,0.276],[0.0464,0.0929,0.868,0.113],[0.0697,0.279,0.255,0.368],[0.0232,0.395,0.035,0.0201],[0.139,0.186,0.962,0.136],[0.0464,0.72,0.444,0.0434],[0,1.14,0.334,0.136],[0,0.0929,0.687,0.0666],[0.0232,0.627,0.828,0.485],[0.0232,2,0.861,0.136],[0.0929,0.186,0.838,0.136],[0.0464,0.186,0.556,0.113],[0.0232,0.0464,0.965,0.0898],[0.0232,0.186,0.661,0.0898],[0.0232,2,0.871,0.0201],[0,2,0.67,0.0201],[0.0232,0.0464,0.992,0.136],[0.0232,0.0929,1,0.0434],[0,2,0.658,0.0201],[0.0464,0.116,0.759,0.0434],[0.0232,0.116,0.576,0.0201],[0.0464,0.139,0.726,0.0201],[0.0232,0.255,0.519,0.136],[0,0.0464,0.712,0.0898],[0.0929,0.163,0.378,0.113],[0.0232,0.325,0.174,0.0201],[0.116,0.163,0.987,0.159],[0.0232,0.302,0.516,0.0201],[0.0232,2,0.814,0.0201],[0,0.139,0.683,0.0201],[0.0464,2,0.284,0.159],[0,0.139,0.769,0.0201],[0,0.627,0.503,0.0201],[0,1.16,0.646,0.229],[0.0232,1.72,0.445,0.5],[0,0.0464,0.905,0.0434],[0,0.627,0.632,0.5],[0.441,2,0.217,0.461],[0.0464,0.975,0.704,0.252],[0,0.511,0.66,0.5],[0.0929,2.02,0.0269,0.5],[0.186,1.6,0.103,0.5],[0.116,0.998,0.626,0.5],[0.418,0.65,0.681,0.5],[0.0232,1.6,0.199,0.136],[0.418,0.441,0.703,0.5],[0.0232,0.998,0.0314,0.461],[0.0929,1.72,0.123,0.5],[0,1.44,0.241,0.5],[0.534,2,0.584,0.5],[0.0232,2,0.885,0.5],[0.0929,1.51,0.327,0.5],[0.0232,1.86,0.238,0.5],[0,1.14,0.0565,0.252],[0,0.604,0.0565,0.5],[0,0.464,0.062,0.5],[0,0.488,0.0529,0.0201],[0,0.0232,0.998,0.0434],[0.0464,0.882,0.532,0.252],[0,0.279,0.678,0.0898],[0,1.42,0.0644,0.5],[0,0.116,0.00112,0.0201],[0,0.488,0.051,0.0201],[3,2,0,0.0201],[0,0.975,0.0521,0.368],[0,0.279,0.0387,0.0201],[0,0.836,0.0509,0.0201],[0.627,1.88,4.54e-08,0.0201],[0.0697,0.163,0.0072,0.0201],[0.116,0.255,0.328,0.299],[1.44,2,0.976,0.5],[0.0232,0.139,0.0105,0.5],[0,0.209,0.917,0.5],[0.906,2,0.654,0.5],[0.279,2,0.999,0.5],[0,0.302,0.0269,0.0201]];



function getRandomPhase() {
  return Math.random() * 2 * Math.PI - Math.PI;
}

const waveCahce = new Array(128);

function createWave(instId = 0) {
  let inst = amp[instId];
  // DC offset, should always be 0
  let real = [0];
  let imag = [0];
  inst.forEach(f => {
    let phase = getRandomPhase();
    real.push(f * Math.cos(phase));
    imag.push(f * Math.sin(phase));
  });
  return [new Float32Array(real), new Float32Array(imag)];
}

export function getWave(context, instId) {
  if (waveCahce[instId]) {
    return waveCahce[instId];
  } else {
    let samples = createWave(instId);
    // Create custom waveform
    var customWaveform = context.createPeriodicWave(samples[0], samples[1]);
    waveCahce[instId] = customWaveform;
    return customWaveform;
  }
}

export { envelope };